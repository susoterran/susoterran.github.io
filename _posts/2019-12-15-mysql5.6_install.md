---
title:  "MySQL 5.6 설치하기"
excerpt: "이번 페이지에서는 리눅스에 MySQL을 컴파일 설치하는 방법에 대해 알아본다."
header:
  overlay_color: "#333"
  actions:
    - label: "MySQL공식사이트"
      url: "https://www.mysql.com/"
categories:
  - mysql
tags:
  - MySQL
  - Linux
last_modified_at: 2019-12-15 T
toc: true
toc_label: "목차"
toc_sticky: true
classes: wide
share: false
---
이번 페이지에서는 리눅스에 MySQL을 컴파일 설치하는 방법에 대해 알아본다.

### MySQL 이란?

오픈 소스의 관계형 데이터베이스 관리 시스템(RDBMS)

다중 스레드, 다중 사용자 형식의 구조질의어 형식의 데이터베이스 관리 시스템

 이중 라이선스 적용
- GPL (General Public License) : GNU 일반 공중 사용 허가서
    - 자유 소프트웨어 재단에서 만든 자유 소프트웨어 라이선스
    - GPL 이외의 라이선스로 적용시키려는 경우 전통적인 지적재산권 라이선스 적용

썬 마이크로 시스템즈에 인수되었으나, 썬 마이크로 시스템즈가 오라클에 인수되며 같이 넘어갔다.


### mysql 계정 생성

```
[root@localhost work]# useradd -s /sbin/nologin mysql
```

### 필수 라이브러리 설치

```
[root@localhost work]# yum -y install make zlib curl gcc g++ cpp gcc-c++ libtermcap-devel ncurses-devel libc-client-devel bzip2-devel
```

### Cmake 설치

#### cmake 란?
Make의 대용품을 만들기 위한 오픈소스 프로젝트

스스로 기존의 make의 과정을 수행하지 않고 지정한 운영체제에 맞는 make 파일의 생성만을 수행하기 때문에 Meta Make라고도 불린다.

유닉스 계열 OS 중심이던 기존의 Make와는 달리 한번 작성해 두면 유닉스 계열은 물론, 마이크로소프트 윈도우 계열의 프로그래밍 도구도 지원한다

```
[root@localhost work]# wget https://cmake.org/files/v3.9/cmake-3.9.6.tar.gz
[root@localhost work]# tar zxvf cmake-3.9.6.tar.gz
[root@localhost work]# cd cmake-3.9.6
[root@localhost cmake-3.9.6]# ./bootstrap
[root@localhost cmake-3.9.6]# make
[root@localhost cmake-3.9.6]# make install
```

### MySQL 다운로드 및 설치

#### MySQL 다운로드
```
[root@localhost work]# wget https://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.42.tar.gz
```

#### MySQL 설치
```
[root@localhost work]# tar zxvf mysql-5.6.42.tar.gz
[root@localhost work]# cd mysql-5.6.42
[root@localhost work]# tar zxvf mysql-5.6.42.tar.gz
[root@localhost work]# cd mysql-5.6.42

[root@localhost mysql-5.6.42]# vi setup.sh
[Character Set을 euckr로 설정하고 싶은 경우]
cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DDEFAULT_CHARSET=euckr -DWITH_INNOBASE_STORAGE_ENGINE=1 -DMYSQL_DATADIR=/usr/local/mysql/data -DDEFAULT_COLLATION=euckr_korean_ci -DWITH_EXTRA_CHARSETS=all -DENABLED_LOCAL_INFILE=1
	
[Character Set을 UTF-8로 설정하고 싶은 경우]
cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DDEFAULT_CHARSET=utf8 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DMYSQL_DATADIR=/usr/local/mysql/data -DDEFAULT_COLLATION=utf8_general_ci -DWITH_EXTRA_CHARSETS=all -DENABLED_LOCAL_INFILE=1

[root@localhost mysql-5.6.42]# chmod 711 setup.sh
[root@localhost mysql-5.6.42]# ./setup.sh
[root@localhost mysql-5.6.42]# make
[root@localhost mysql-5.6.42]# make install
```

#### MySQL 초기화 설정

[root@localhost mysql-5.6.42]# cd /usr/local/mysql
	
[root@localhost mysql]# ./scripts/mysql_install_db --user=mysql --datadir=/usr/local/mysql/data --basedir=/usr/local/mysql
[root@localhost mysql]# chown -R mysql:mysql data
[root@localhost mysql]# chgrp mysql *
[root@localhost mysql]# cd /home/gihcuser/work/mysql-5.6.42
[root@localhost mysql-5.6.42]# cp support-files/my-default.cnf /etc/my.cnf

#### 부팅 이후 자동 실행되게 설정
#### CentOS 6 이하 버전
```
[root@localhost mysql-5.6.42]# cd /etc/rc.d/rc3.d
[root@localhost rc3.d]# ln -s /usr/local/mysql/support-files/mysql.server S99mysql
[root@localhost rc3.d]# ./S99mysql start
```
#### CentOS 7
```
[root@localhost ~]# vi /usr/lib/systemd/system/mysqld.service

[Unit]
Description=Mysql Service
After=syslog.target
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/mysql/support-files/mysql.server start
ExecStop=/usr/local/mysql/support-files/mysql.server stop

[Install]
WantedBy=multi-user.target

[root@localhost ~]# systemctl enable mysqld.service
Created symlink from /etc/systemd/system/multi-user.target.wants/mysqld.service to /usr/lib/systemd/system/mysqld.service.

[root@localhost ~]# systemctl list-unit-files | grep mysql
mysqld.service                                enabled

[root@localhost ~]# systemctl restart mysqld.service
```

